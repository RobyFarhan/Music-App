{{>header}}
{{>navbar}}

<div class="container editArtist mt-3">

    <form action="/edit-music" method="POST" enctype="multipart/form-data">
        <input type="hidden" name="id" value="{{artistChosen.id}}" />
        <input type="hidden" name="oldImage" value="{{artistChosen.image}}" />

        <div class="row edit-name m-4">
            <div class="col-5">
                Title
            </div>
            <div class="col-2">
                :
            </div>
            <div class="col-5">
                <input type="text" name="name" class="updateArtist" value="{{artistChosen.name}}" />
                {{!-- {{this.name}} --}}
            </div>
        </div>

        <div class="row edit-start-career m-4">
            <div class="col-5">
                Music
            </div>
            <div class="col-2">
                :
            </div>
            <div class="col-5">
                <input type="file" name="music" class="music-mp3" accept="audio/mp3" value="{{artistChosen.start_career}}">

            </div>
        </div>
        {{!-- <input type="date" name="date" class="date-career"> --}}

        <div class="row edit-photo">
            <div class="col-5">
                Cover music
            </div>
            <div class="col-2">
                :
            </div>
            <div class="col-5">
                <input type="file" id="image" class="updateArtist" name="cover_music" onchange="handlechange()">
                <div id="preview-thumbnail"></div>
            </div>

        </div>


        <div class="row button-editArtist">
            <div class="col-5">
            </div>
            <div class="col-2">
                <button TYPE="submit" class="btn-submit-edit btn btn-primary">Submit</button>
            </div>
            <div class="col-5">

            </div>
        </div>
        <input type="hidden" id="url-thumbnail" value="{{artistChosen.image}}">
    </form>
</div>

<script>
    const previewElement = document.getElementById('preview-thumbnail');
    const urlThumbnail = document.getElementById('url-thumbnail').value;
    previewElement.innerHTML = `<img src="${urlThumbnail}" style="width: 150px;" class="mt-3"/>`;
    function handleChange() {
        const value = URL.createObjectURL(event.target.files[0]);
        previewElement.innerHTML = `<img src="${value}" style="width: 250px;" class="mt-3"/>`
    }

    src = "https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
    integrity = "sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
    crossorigin = "anonymous"
</script>

{{>footer}}